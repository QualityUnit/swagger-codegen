/**
 * Copyright 2007 Quality Unit s.r.o.
 * 
 * Licensed under the Quality Unit, s.r.o. Standard End User License Agreement,
 * Version 1.0 (the "License"); you may not use this file except in compliance
 * with the License. You may obtain a copy of the License at
 * http://www.qualityunit.com/licenses/license
 * 
 */

package {{supportPackage}};

import com.google.gwt.core.client.JavaScriptObject;

public abstract class ApiCallback<T> {

    public final void error(JavaScriptObject error) {
        onError(getMessage(error));
    }

    private final native String getMessage(JavaScriptObject object) /*-{
        return object.message;
    }-*/;

    public abstract void onError(String message);

    public abstract void onSuccess(T response);

}